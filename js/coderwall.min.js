(function(){var b,a;window.$=jQuery;b={init:function(d,e){var c;c=this;c.box=e;c.$box=$(e);c.options=$.extend({},$.fn.teamCoderwall.options,d);c.team=typeof d!=="undefined"?d.team:c.options.team;c.compileBadges();return c},compileBadges:function(){var j,d,l,h,m,n,f,k,c,g,e;m=this;n=new a;n.requests=[];j=function(o,p){return n.requests[p]=n.getBadges(o)};g=m.team;for(h=0,k=g.length;h<k;h++){d=g[h];j(d,h)}e=n.requests;for(f=0,c=e.length;f<c;f++){l=e[f];m.coderFetcher(l)}return m},coderFetcher:function(d){var c;c=this;c.coderFetcher.count=0;d.done(function(f,e){c.storeTeamBadges(f,e);return this});return c},storeTeamBadges:function(h,g){var e,d,f,j,c,i;f=this;if(g==="success"){i=h.data.badges;for(j=0,c=i.length;j<c;j++){e=i[j];d=e.name;if(typeof f.teamBadges[d]==="undefined"){f.teamBadges[d]=e;f.teamBadges[d].coders=[h.data.username];f.teamBadges[d].count=1}else{f.teamBadges[d].coders.push(h.data.username);f.teamBadges[d].count+=1}}}f.coderFetcher.count+=1;if(f.team.length===f.coderFetcher.count){f.printBadges(f.teamBadges,f.team)}return f},printBadges:function(f,g){var k,h,c,d,e,m,j,i,l;m=this;h=m.options.badge_size;e=function(n,o){return'<li class="box-badge"><div class="badge-icon'+(o.count>1?" show-count":"")+'" data-count="'+o.count+'"><img width="'+h+'" height="'+h+'" alt="'+n+'" data-title="'+o.description+'" src="'+o.badge+'"></div><div class="badge-name">'+n+"</div></li>"};j='<ul id="team_box">';for(k in f){j+=e(k,f[k])}j+="</ul>";d=function(n){return'<a href="http://coderwall.com/'+n+'" target="_blank">'+n+"</a>"};j+='<div class="team-coders"><strong>Badges achieved by:&nbsp;</strong>';for(i=0,l=g.length;i<l;i++){c=g[i];j+=d(c)}j+="</div>";m.$box.html(j).show();return m},teamBadges:{}};a=function(){function c(){}c.prototype.init=function(){};c.prototype.getBadges=function(d){return $.ajax({url:"http://coderwall.com/"+d+".json",dataType:"jsonp"})};return c}();$.fn.teamCoderwall=function(c){return this.each(function(){var d;d=Object.create(b);d.init(c,this);return this})};$.fn.teamCoderwall.options={team:["amsul","maxpresman"],badge_size:72}}).call(this);